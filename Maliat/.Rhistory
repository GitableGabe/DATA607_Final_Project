library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
# Chunk 6
#view(df_tb30)
# Chunk 7
df_tb30_n<-df_tb30[3:33,]
#view(df_tb30_n)
# Chunk 8
names(df_tb30_n)[1] <- "Occupation_Label"
names(df_tb30_n)[2] <- "TotalUnemployedApril2020"
names(df_tb30_n)[3] <- "TotalUnemployedApril2021"
names(df_tb30_n)[4] <- "TotalUnemployedRatesApril2020"
names(df_tb30_n)[5] <- "TotalUnemployedRatesApril2021"
names(df_tb30_n)[6] <- "Men_Unemployment_Rate_2020"
names(df_tb30_n)[7] <- "Men_Unemployment_Rate_2021"
names(df_tb30_n)[8] <- "Women_Unemployment_Rate_2020"
names(df_tb30_n)[9] <- "Women_Unemployment_Rate_2021"
# Chunk 9
view(df_tb30_n)
df_tb30_n = df_tb30_n[-c(2),]
# Chunk 10
df_tb30_n1 = subset(df_tb30_n, select =-c(TotalUnemployedApril2020,TotalUnemployedApril2021) )
view(df_tb30_n1)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
# Chunk 6
#view(df_tb30)
# Chunk 7
df_tb30_n<-df_tb30[3:33,]
#view(df_tb30_n)
# Chunk 8
names(df_tb30_n)[1] <- "Occupation_Label"
names(df_tb30_n)[2] <- "TotalUnemployedApril2020"
names(df_tb30_n)[3] <- "TotalUnemployedApril2021"
names(df_tb30_n)[4] <- "TotalUnemployedRatesApril2020"
names(df_tb30_n)[5] <- "TotalUnemployedRatesApril2021"
names(df_tb30_n)[6] <- "Men_Unemployment_Rate_2020"
names(df_tb30_n)[7] <- "Men_Unemployment_Rate_2021"
names(df_tb30_n)[8] <- "Women_Unemployment_Rate_2020"
names(df_tb30_n)[9] <- "Women_Unemployment_Rate_2021"
# Chunk 9
#view(df_tb30_n)
df_tb30_n = df_tb30_n[-c(2),]
# Chunk 10
df_tb30_n1 = subset(df_tb30_n, select =-c(TotalUnemployedApril2020,TotalUnemployedApril2021) )
#view(df_tb30_n1)
df_tb30_n1%>%
pivot_table(
.rows       = c(~TotalUnemployedRatesApril2020, ~TotalUnemployedRatesApril2021),
.columns    = ~Occupation_Label,
.values     = ~ COUNT()
)
df_tb30_n1%>%
pivot_table(
.rows       = c(~TotalUnemployedRatesApril2020, ~TotalUnemployedRatesApril2021)
.columns    = ~Occupation_Label,
.values     = ~ COUNT()
)
View(df_tb30_n1)
df_tb30_n1%>%
pivot_table(
.rows       = c(~TotalUnemployedRatesApril2020, ~TotalUnemployedRatesApril2021),
.columns    = ~Occupation_Label,
.values     = ~ COUNT()
)
df_tb30_n1%>%
pivot_table(
.rows       = c(~TotalUnemployedRatesApril2020 ~TotalUnemployedRatesApril2021),
.columns    = ~Occupation_Label,
.values     = ~ COUNT()
)
df_tb30_n1%>%
pivot_table(
.rows       = c(~ TotalUnemployedRatesApril2020, ~ TotalUnemployedRatesApril2021),
.columns    = ~Occupation_Label,
.values     = ~ COUNT()
)
df_tb30_n1%>%
pivot_table(
.rows       = c(~ TotalUnemployedRatesApril2020, ~ TotalUnemployedRatesApril2021),
.columns    = ~ Occupation_Label,
.values     = ~ COUNT()
)
df_tb30_n1%>%
pivot_table(
.rows       = c(~ TotalUnemployedRatesApril2020, ~ mean(TotalUnemployedRatesApril2021)),
.columns    = ~ Occupation_Label,
.values     = ~ COUNT()
)
test<-t(df_tb30_n1 %>%
select(TotalUnemployedRatesApril2020, TotalUnemployedRatesApril2021))
test<-as.data.frame(t(df_tb30_n1 %>%
select(TotalUnemployedRatesApril2020, TotalUnemployedRatesApril2021)))
View(test)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
View(df_tb30)
df_tb30<-df_tb30%>%
filter(3,5:33)
#colname(df_tb30_n)
df_tb30<-rbind(df_tb30[3],df_tb30[5:33])
#colname(df_tb30_n)
View(df_tb30)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
df_tb30<-rbind(df_tb30[3],df_tb30[5:33])
#colname(df_tb30_n)
df_tb30<-bind_rows(df_tb30[3],df_tb30[5:33])
#colname(df_tb30_n)
df_tb30<-bind_rows(df_tb30[3,],df_tb30[5:33,])
#colname(df_tb30_n)
View(df_tb30)
View(df_tb30)
df_tb30<-bind_rows(df_tb30[3,],df_tb30[5:33,])
colnames(df_tb30)<-
c("Occupation_Label","Occupation_Label", "TotalUnemployedApril2020",
"TotalUnemployedApril2021", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
colnames(df_tb30)
View(df_tb30)
df_tb30<-bind_rows(df_tb30[3,],df_tb30[5:33,])
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedApril2020",
"TotalUnemployedApril2021", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
View(df_tb30)
dim(df_tb30)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
df_tb30<-bind_rows(df_tb30[3,],df_tb30[5:33,])
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedApril2020",
"TotalUnemployedApril2021", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
View(df_tb30)
View(df_tb30)
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedApril2020",
"TotalUnemployedApril2021", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
View(df_tb30)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
test<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
View(df_tb30)
test<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
test<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
View(test)
colnames(test)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
View(test)
test<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(test)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
test<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(test)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
# Chunk 1
# install.packages("rio")
# ^^^^ only if needed
library(httr)
library(janitor)
library(kableExtra)
library(lubridate)
library(pivottabler)
library(readxl)
library(rio)
library(reactable)
library(rvest)
library(tidyquant)
library(tidyverse)
library(zoo)
# Chunk 2
url_9  <- "https://www.bls.gov/web/empsit/cpseea09.htm"
url_10 <- "https://www.bls.gov/web/empsit/cpseea10.htm"
url_30 <- "https://www.bls.gov/web/empsit/cpseea30.htm"
# Chunk 3
head(df_tb9  <- as.data.frame(html_table(read_html(url_9))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 4
head(df_tb10 <- as.data.frame(html_table(read_html(url_10))[[2]]),5)%>%
reactable(highlight = TRUE, pagination = FALSE, height = 450)
# Chunk 5
df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]])
head(df_tb30 <- as.data.frame(html_table(read_html(url_30))[[2]]),10)%>%
reactable(highlight = TRUE, pagination = TRUE, height = 850)
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
View(df_tb30)
test <-
df_tb30%>%
rownames_to_column() %>%
pivot_longer(-rowname, 'variable', 'value') %>%
pivot_wider(variable, rowname)%>%
janitor::row_to_names(1)
View(test)
df_tb30_t <-
df_tb30%>%
rownames_to_column() %>%
pivot_longer(-rowname, 'variable', 'value') %>%
pivot_wider(variable, rowname)%>%
janitor::row_to_names(1)
(df_tb30_t <-
df_tb30%>%
rownames_to_column() %>%
pivot_longer(-rowname, 'variable', 'value') %>%
pivot_wider(variable, rowname)%>%
janitor::row_to_names(1))
test<-as.data.frame(t(df_tb30_n1 %>%
select(TotalUnemployedRatesApril2020, TotalUnemployedRatesApril2021)))
describe(df_tb30_n1)
df_tb30<-
bind_rows(df_tb30[3,],df_tb30[5:33,])%>%
select(-2,-3)
colnames(df_tb30)<-
c("Occupation_Label", "TotalUnemployedRatesApril2020",
"TotalUnemployedRatesApril2021", "Men_Unemployment_Rate_2020",
"Men_Unemployment_Rate_2021", "Women_Unemployment_Rate_2020", "Women_Unemployment_Rate_2021")
